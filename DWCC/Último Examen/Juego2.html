<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        #juego-container {
            position: relative;
            width: 400px;
            height: 400px;
            border: 1px solid black;
            overflow: hidden;
        }

        #cuadro {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: blue;
            top: 175px;
            left: 175px;
        }

        #pelota {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: red;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div id="juego-container">
        <div id="cuadro"></div>
        <div id="pelota"></div>
    </div>

    <script>
        var cuadro = document.getElementById('cuadro');
        var pelota = document.getElementById('pelota');
        var juegoContainer = document.getElementById('juego-container');

        function moverCuadro(event) {
            var velocidad = 10;

            switch (event.key) {
                case 'ArrowUp':
                    cuadro.style.top = Math.max(0, cuadro.offsetTop - velocidad) + 'px';
                    break;
                case 'ArrowDown':
                    cuadro.style.top = Math.min(juegoContainer.clientHeight - cuadro.clientHeight, cuadro.offsetTop + velocidad) + 'px';
                    break;
                case 'ArrowLeft':
                    cuadro.style.left = Math.max(0, cuadro.offsetLeft - velocidad) + 'px';
                    break;
                case 'ArrowRight':
                    cuadro.style.left = Math.min(juegoContainer.clientWidth - cuadro.clientWidth, cuadro.offsetLeft + velocidad) + 'px';
                    break;
            }

            verificarColision();
        }

        function generarPosicionAleatoria() {
            var maxX = juegoContainer.clientWidth - pelota.clientWidth;
            var maxY = juegoContainer.clientHeight - pelota.clientHeight;

            var posX = Math.floor(Math.random() * maxX);
            var posY = Math.floor(Math.random() * maxY);

            pelota.style.left = posX + 'px';
            pelota.style.top = posY + 'px';
        }

        function verificarColision() {
            var cuadroRect = cuadro.getBoundingClientRect();
            var pelotaRect = pelota.getBoundingClientRect();

            if (
                cuadroRect.left < pelotaRect.right &&
                cuadroRect.right > pelotaRect.left &&
                cuadroRect.top < pelotaRect.bottom &&
                cuadroRect.bottom > pelotaRect.top
            ) {
                // Colisi√≥n detectada
                generarPosicionAleatoria();
                reiniciarTemporizador();
            }
        }

        function reiniciarTemporizador() {
            clearTimeout(temporizador);
            temporizador = setTimeout(generarPosicionAleatoria, 3000);
        }

        var temporizador = setTimeout(generarPosicionAleatoria, 3000);

        document.addEventListener('keydown', moverCuadro);
    </script>
</body>
</html>
